<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.yoonsub.mapper.MemberMapper">
  
  <resultMap type="com.yoonsub.domain.MemberVo" id="memberMap">
    <id property="userid" column="userid" />
    <result property="userid" column="userid"/>  
    <result property="userpw" column="userpw"/>  
    <result property="userName" column="username"/>  
    <result property="tel" column="tel"/>
    <result property="regDate" column="regdate"/>
    <result property="updateDate" column="updatedate"/>
    <result property="enabled" column="enabled"/>
    <collection property="authList" resultMap="authMap">
    </collection>  
</resultMap>

  <resultMap type="com.yoonsub.domain.AuthVo" id="authMap">
    <result property="userid" column="userid" />
    <result property="auth" column="auth"/>
  </resultMap>
  
  <select id="read" resultMap="memberMap">
    SELECT mem.userid, userpw, username, tel, regdate, updatedate, enabled, auth
    FROM yoonsub_member mem LEFT OUTER JOIN yoonsub_member_auth auth ON mem.userid = auth.userid
    WHERE mem.userid = #{userid}
  </select>
  
</mapper>